import java.io.*;
import java.util.*;


//clase padre Producto 
class Producto{
   protected int codigoProd;
   protected String nomProd;
   protected double precio;
   protected String descripcion;
   protected int cantidad;
   
   public Producto(int codigoProd, String nomProd, double precio, String descripcion, int cantidad){
      setCodigoProd(codigoProd);
      setNomProd(nomProd);
      setPrecio(precio);
      setDescripcion(descripcion);
      setCantidad(cantidad);
   }
   
   public void setCodigoProd(int codigoProd) {
      this.codigoProd=codigoProd;
   }
   
   public int getCodigoProd() {
      return codigoProd;
   } 
   public void setNomProd(String nomProd) {
      this.nomProd=nomProd;
   }
   
   public String getNomProd() {
      return nomProd;
   }
   
   public void setPrecio(double precio) {
      this.precio=precio;
   }
   
   public double getPrecio() {
      return precio;
   }
   
   public void setDescripcion(String descripcion) {
      this.descripcion=descripcion;
   }
   
   public String getDescripcion() {
      return descripcion;
   }

   public void setCantidad(int cantidad) {
      this.cantidad = cantidad;
   }
   
   public int getCantidad(){
      return cantidad;
   }
   
   public String toString() {
      return nomProd + precio + descripcion + cantidad;
   }
   
}


//clase hija Prodcuto Alimento que hereda de la clase padre Producto
class Alimento extends Producto {   
   private Fecha fechaCadu;
   
   public Alimento(int codigoProd, String nomProd, double precio, String descripcion, int cantidad, Fecha fechaCadu) {
      super(codigoProd, nomProd, precio, descripcion, cantidad);
      setFechaCadu(fechaCadu);
   }
   
   public void setFechaCadu(Fecha fechaCadu) {
      this.fechaCadu=fechaCadu;
   }
   
   public Fecha getFechaCadu(){
      return fechaCadu;
   }
   
   public String toString() {
      return super.toString() + "Fecha de caducidad: " + fechaCadu;
   }
}


//clase hija Prodcuto Ropa que hereda de la clase padre Producto
class Ropa extends Producto{   
   private char talla;
   
   public Ropa(int codigoProd, String nomProd, double precio, String descripcion, int cantidad, char talla) {
      super(codigoProd, nomProd, precio, descripcion, cantidad);
      setTalla(talla);
   }
   
   public void setTalla(char talla) {
      this.talla=talla;
   }
   
   public char getTalla() {
      return talla;
   }
   
   public String toString() {
      return super.toString() + "Talla: " + talla;
   }
}


//clase hija Prodcuto Limpieza que hereda de la clase padre Producto
class Limpieza extends Producto{   
   private String tipo;
   
   public Limpieza(int codigoProd, String nomProd, double precio, String descripcion, int cantidad, String tipo){
      super(codigoProd, nomProd, precio, descripcion, cantidad);
      setTipo(tipo);
   }
   
   public void setTipo(String tipo) {
      this.tipo=tipo;
   }
   
   public String getTipo(){
      return tipo;
   }
   
   public String toString() {
      return super.toString() + "Tipo: " + tipo;
   }
}


//clase Fecha que tiene dia mes y año
class Fecha {

   private int dia;
   private int mes;
   private int anio;

   public Fecha(int dia, int mes, int anio)
   {
      setDia(dia);
      setMes(mes);
      setAnio(anio);
   }

   public void setDia(int dia)
   {
      this.dia=dia;
   }

   public void setMes(int mes)
   {
      this.mes=mes;
   }

   public void setAnio(int anio)
   {
      this.anio=anio;
   }

   public int getDia()
   {
      return dia;
   }

   public int getMes()
   {
      return mes;
   }

   public int getAnio()
   {
      return anio;
   }

   public String toString()
   {
      return dia+"-"+mes+"-"+anio;
   }
}


//clase qu guarda las cuentas del sistema usuario-contraseña
public class UsuarioContrasena {
   HashMap<String,String> accounts = new HashMap<String,String>();
   
   //metodo constructor que crea el "diccionario" de usuarios con sus contraseñas
   UsuarioContrasena() {
      accounts.put("Arturo","abc123*");
      accounts.put("Laura","p4t1t0");
      accounts.put("Juan","PASSWORD");
      accounts.put("Maria","qwerty");
   }
   
   protected HashMap getAccounts() {
      return accounts;
   }
}


//clase principal del sistema
@SuppressWarnings("unchecked")
class Principal {
   public static void main(String[] args) {
      Principal p = new Principal();
      boolean acceso = p.darAcceso();
      if (acceso) {
         System.out.println("\n'Bienvenido!'");
      }
      else
         System.out.println("\n***Se supero el numero maximo de intentos***");
   }
   
   
   //método login para dar acceso al sistema 
   public boolean darAcceso() {
   Scanner s = new Scanner(System.in);
      //crear las cuentas ya establecidas
      UsuarioContrasena usuarioContrasenas = new UsuarioContrasena();
      //guardar las cuentas en una variable tipo HashMap
      HashMap<String,String> accounts = usuarioContrasenas.getAccounts();
      String userID, password;
      boolean acceso = false;
      //Permitir hasta 3 intentos de acceso. Sino, sale del sistema por seguridad.
      for (int i = 0; i<3; i++) {
         System.out.println("Ingrese el usuario: ");
         userID = s.nextLine();
         System.out.println("\nIngrese la contrasena: ");
         password = s.nextLine();
         //checar si los datos ingresados concuerdan con alguna cuenta registrada
         if (accounts.containsKey(userID)) {
            if (accounts.get(userID).equals(password)){
               acceso = true;
               i = 3;
            }
            else
               System.out.println("\nLa contrasena ingresada es incorrecta!\n");   
         }
         else
            System.out.println("\nUsuario no encontrado\n");
      }
      return acceso;
   }
}
